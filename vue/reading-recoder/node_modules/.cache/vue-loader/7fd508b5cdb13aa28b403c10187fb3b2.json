{"remainingRequest":"/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/src/components/BookForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/src/components/BookForm.vue","mtime":1583524426487},{"path":"/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/node_modules/cache-loader/dist/cjs.js","mtime":1582818795124},{"path":"/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/node_modules/babel-loader/lib/index.js","mtime":1582818794615},{"path":"/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/node_modules/cache-loader/dist/cjs.js","mtime":1582818795124},{"path":"/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/node_modules/vue-loader/lib/index.js","mtime":1582818800233}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnCmltcG9ydCBCb29rSW5mbyBmcm9tICdAL2NvbXBvbmVudHMvQm9va0luZm8udnVlJwppbXBvcnQgeyBVUERBVEVfQ1VSUkVOVCwgVVBEQVRFX0JPT0ssIERFTEVURV9CT09LIH0gZnJvbSAnQC9zdG9yZS9tdXRhdGlvbi10eXBlcycKCgpleHBvcnQgZGVmYXVsdCB7CiBuYW1lOiAnYm9vay1mb3JtJywKIGNvbXBvbmVudHM6IHsKICBCb29rSW5mbwogfSwKIGRhdGEoKSB7CiAgcmV0dXJuIHsKICAgYm9vazoge30sCiAgIGZvcm06IHsKICAgIHJlYWQ6IG5ldyBEYXRlKCksCiAgICBtZW1vOiAnJwogICB9LAogICBydWxlczogewogICAgbWVtbzogWwogICAgIC8veyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ0lucHV0IG1lbW8uJywgdHJpZ2dlcjogJ2JsdXInIH0KICAgIF0KICAgfQogIH0KIH0sCiBjb21wdXRlZDogbWFwR2V0dGVycyggWyAnY3VycmVudCcsICdnZXRCb29rQnlJZCcgXSksCiBjcmVhdGVkKCkgewogIGlmICghdGhpcy5jdXJyZW50KSB7CiAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJykKICB9CiAgdGhpcy5ib29rID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5jdXJyZW50KQogfSwKIG1vdW50ZWQoKSB7CiAgbGV0IGIgPSB0aGlzLmdldEJvb2tCeUlkKHRoaXMuYm9vay5pZCkKICBpZiAoYikgewogICB0aGlzLmZvcm0ucmVhZCA9IGIucmVhZAogICB0aGlzLmZvcm0ubWVtbyA9IGIubWVtbwogIH0KIH0sCiBtZXRob2RzOiB7CiAgLi4ubWFwQWN0aW9ucyhbVVBEQVRFX0JPT0ssIFVQREFURV9DVVJSRU5ULCBERUxFVEVfQk9PS10pLAogIG9uc3VibWl0KCkgewogICAvL3RoaXMuJHJlZnNbJ2Zvcm0nXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgLy8gaWYgKHZhbGlkKSB7CiAgICAgdGhpc1tVUERBVEVfQk9PS10oCiAgICAgIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuYm9vaywgdGhpcy5mb3JtKQogICAgICkKICAgICB0aGlzW1VQREFURV9DVVJSRU5UXShudWxsKQogICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgIHRpdGxlOiAnUmVhZGluZyBSZWNvcmRlcicsCiAgICAgIG1lc3NhZ2U6IHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3AnLCB7c3R5bGU6ICdjb2xvcjogIzAwOSd9LAogICAgICAgJ1N1Y2Nlc3MhJyksCiAgICAgICBkdXJhdGlvbjogMjAwMAogICAgIH0pCiAgICAgdGhpcy5mb3JtLnJlYWQgPSBuZXcgRGF0ZSgpCiAgICAgdGhpcy5mb3JtLm1lbW8gPSAnJwogICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJykKICAgIC8vfQogICAvL30pCiAgfSwKICBvbmRlbGV0ZSgpIHsKICAgLy90aGlzLiRyZWZzWydmb3JtJ10udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgIC8vIGlmICh2YWxpZCkgewogICAgIHRoaXNbREVMRVRFX0JPT0tdKAogICAgICBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmJvb2ssIHRoaXMuZm9ybSkKICAgICApCiAgICAgdGhpc1tVUERBVEVfQ1VSUkVOVF0obnVsbCkKICAgICB0aGlzLiRub3RpZnkoewogICAgICB0aXRsZTogJ0RlbGV0ZSBEYXRhJywKICAgICAgbWVzc2FnZTogdGhpcy4kY3JlYXRlRWxlbWVudCgncCcsIHtzdHlsZTogJ2NvbG9yOiAjMDA5J30sCiAgICAgICAnU3VjY2VzcyEnKSwKICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgfSkKICAgICB0aGlzLmZvcm0ucmVhZCA9IG5ldyBEYXRlKCkKICAgICB0aGlzLmZvcm0ubWVtbyA9ICcnCiAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKQogICAgLy99CiAgIC8vfSkKICB9CiB9Cgp9Cg=="},{"version":3,"sources":["BookForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"BookForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n <div id=\"form\">\n  <BookInfo :book=\"book\"></BookInfo>\n  <hr />\n  <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"120px\" >\n   <el-form-item label=\"開始日\">\n    <el-date-picker type=\"date\" v-model=\"form.read\"></el-date-picker>\n   </el-form-item>\n   <div id=\"editor\" v-markdown=\"options\">\n    {{form.memo}}\n   </div>\n   <el-form-item label=\"メモ\" prop=\"memo\">\n    <el-input type=\"textarea\" size=\"large\" v-model=\"form.memo\"></el-input>\n   </el-form-item>\n   <el-form-item>\n    <el-button type=\"primary\" @click=\"onsubmit\">Register</el-button>\n    <el-button type=\"primary\" @click=\"ondelete\">Delete</el-button>\n   </el-form-item>\n  </el-form>\n </div>\n</template>\n\n<script>\nimport {mapGetters, mapActions } from 'vuex'\nimport BookInfo from '@/components/BookInfo.vue'\nimport { UPDATE_CURRENT, UPDATE_BOOK, DELETE_BOOK } from '@/store/mutation-types'\n\n\nexport default {\n name: 'book-form',\n components: {\n  BookInfo\n },\n data() {\n  return {\n   book: {},\n   form: {\n    read: new Date(),\n    memo: ''\n   },\n   rules: {\n    memo: [\n     //{ required: true, message: 'Input memo.', trigger: 'blur' }\n    ]\n   }\n  }\n },\n computed: mapGetters( [ 'current', 'getBookById' ]),\n created() {\n  if (!this.current) {\n   this.$router.push('/')\n  }\n  this.book = Object.assign({}, this.current)\n },\n mounted() {\n  let b = this.getBookById(this.book.id)\n  if (b) {\n   this.form.read = b.read\n   this.form.memo = b.memo\n  }\n },\n methods: {\n  ...mapActions([UPDATE_BOOK, UPDATE_CURRENT, DELETE_BOOK]),\n  onsubmit() {\n   //this.$refs['form'].validate((valid) => {\n   // if (valid) {\n     this[UPDATE_BOOK](\n      Object.assign({}, this.book, this.form)\n     )\n     this[UPDATE_CURRENT](null)\n     this.$notify({\n      title: 'Reading Recorder',\n      message: this.$createElement('p', {style: 'color: #009'},\n       'Success!'),\n       duration: 2000\n     })\n     this.form.read = new Date()\n     this.form.memo = ''\n     this.$router.push('/')\n    //}\n   //})\n  },\n  ondelete() {\n   //this.$refs['form'].validate((valid) => {\n   // if (valid) {\n     this[DELETE_BOOK](\n      Object.assign({}, this.book, this.form)\n     )\n     this[UPDATE_CURRENT](null)\n     this.$notify({\n      title: 'Delete Data',\n      message: this.$createElement('p', {style: 'color: #009'},\n       'Success!'),\n       duration: 2000\n     })\n     this.form.read = new Date()\n     this.form.memo = ''\n     this.$router.push('/')\n    //}\n   //})\n  }\n }\n\n}\n</script>\n\n<style scoped>\n#form {\n margin-top: 15px;\n}\n</style>\n"]}]}