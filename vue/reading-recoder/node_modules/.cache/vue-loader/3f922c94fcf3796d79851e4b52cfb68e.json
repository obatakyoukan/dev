{"remainingRequest":"/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/src/components/BookSearch.vue?vue&type=style&index=0&id=74f8b3a1&scoped=true&lang=css&","dependencies":[{"path":"/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/src/components/BookSearch.vue","mtime":1583523032522},{"path":"/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/node_modules/css-loader/dist/cjs.js","mtime":1582818795886},{"path":"/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1582818800234},{"path":"/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/node_modules/postcss-loader/src/index.js","mtime":1582818798415},{"path":"/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/node_modules/cache-loader/dist/cjs.js","mtime":1582818795124},{"path":"/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/node_modules/vue-loader/lib/index.js","mtime":1582818800233}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKI3NlYXJjaCBmb3JtIHsKIG1hcmdpbi10b3A6IDE1cHg7Cn0K"},{"version":3,"sources":["BookSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;AACA;AACA","file":"BookSearch.vue","sourceRoot":"src/components","sourcesContent":["<template>\n <div id=\"search\">\n  <el-form :inline=\"true\">\n   <el-form-item label=\"Keyword\">\n    <el-input type=\"text\" size=\"large\" v-model=\"keyword\"></el-input>\n   </el-form-item>\n\n   <el-form-item label=\"Title\">\n    <el-input type=\"text\" size=\"large\" v-model=\"title_book\"></el-input>\n   </el-form-item>\n\n   <el-form-item label=\"Author\">\n    <el-input type=\"text\" size=\"large\" v-model=\"author_book\"></el-input>\n   </el-form-item>\n\n   <el-form-item>\n    <el-button type=\"primary\" @click=\"onclick\">Search</el-button>\n   </el-form-item>\n    検索ヒット件数:{{num_book}}\n  </el-form>\n  <hr />\n  <BookInfo v-for=\"(b, i) of books\"\n   :linkable=\"true\" :book=\"b\" :index=\"i+1\" :key=\"b.isbn\"></BookInfo>\n </div>\n</template>\n\n<script>\n import BookInfo from '@/components/BookInfo.vue'\n \n export default {\n  name: 'book-search',\n  components: {\n   BookInfo\n  },\n  data() {\n   return {\n    keyword: '',\n    title_book: '',\n    author_book: '',\n    num_book: 0,\n    books: []\n   }\n  },\n  methods: {\n   onclick: function() {\n    let keywords = this.keyword.replace(' ','+').replace('　','+').replace(',','+')\n    let title_books = this.title_book ? '+intitle:'+this.title_book : ''\n    let author_books = this.author_book ? '+inauthor:'+this.author_book : ''\n    let bookurl = 'https://www.googleapis.com/books/v1/volumes?q=' +  keywords + title_books + author_books\n    this.$http( bookurl )\n      .then( (response) => {\n       return response.json()\n      })\n      .then( (data) => {\n       this.books = []\n       this.num_book = data.totalItems\n       for( let b of data.items){\n        let authors = b.volumeInfo.authors\n\tlet price = b.saleInfo.listPrice\n\tlet img = b.volumeInfo.imageLinks\n\tthis.books.push({\n\tid: b.id,\n\ttitle: b.volumeInfo.title,\n\tauthor: authors ? authors.join(',') : '',\n\tprice: price ? price.amount : '-',\n\tpublisher: b.volumeInfo.publisher,\n\tpublished: b.volumeInfo.publishedDate,\n\timage: img ? img.smallThumbnail : '',\n\turl: b.volumeInfo.infoLink\n       })\n       }\n      })\n   }\n  }\n }\n</script>\n\n<style scoped>\n #search form {\n  margin-top: 15px;\n }\n</style>\n"]}]}