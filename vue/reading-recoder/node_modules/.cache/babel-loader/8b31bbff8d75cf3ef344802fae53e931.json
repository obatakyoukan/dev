{"remainingRequest":"/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/node_modules/babel-loader/lib/index.js!/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/src/components/BookForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/src/components/BookForm.vue","mtime":1582817740566},{"path":"/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/obata/Desktop/path/to/dev/git/dev/vue/reading-recoder/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL29iYXRhL0Rlc2t0b3AvcGF0aC90by9kZXYvZ2l0L2Rldi92dWUvcmVhZGluZy1yZWNvZGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgQm9va0luZm8gZnJvbSAnQC9jb21wb25lbnRzL0Jvb2tJbmZvLnZ1ZSc7CmltcG9ydCB7IFVQREFURV9DVVJSRU5ULCBVUERBVEVfQk9PSyB9IGZyb20gJ0Avc3RvcmUvbXV0YXRpb24tdHlwZXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2Jvb2stZm9ybScsCiAgY29tcG9uZW50czogewogICAgQm9va0luZm86IEJvb2tJbmZvCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYm9vazoge30sCiAgICAgIGZvcm06IHsKICAgICAgICByZWFkOiBuZXcgRGF0ZSgpLAogICAgICAgIG1lbW86ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgbWVtbzogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ0lucHV0IG1lbW8uJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogbWFwR2V0dGVycyhbJ2N1cnJlbnQnLCAnZ2V0Qm9va0J5SWQnXSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICghdGhpcy5jdXJyZW50KSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJyk7CiAgICB9CgogICAgdGhpcy5ib29rID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5jdXJyZW50KTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgYiA9IHRoaXMuZ2V0Qm9va0J5SWQodGhpcy5ib29rLmlkKTsKCiAgICBpZiAoYikgewogICAgICB0aGlzLmZvcm0ucmVhZCA9IGIucmVhZDsKICAgICAgdGhpcy5mb3JtLm1lbW8gPSBiLm1lbW87CiAgICB9CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKFtVUERBVEVfQk9PSywgVVBEQVRFX0NVUlJFTlRdKSwgewogICAgb25zdWJtaXQ6IGZ1bmN0aW9uIG9uc3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1snZm9ybSddLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgX3RoaXNbVVBEQVRFX0JPT0tdKE9iamVjdC5hc3NpZ24oe30sIF90aGlzLmJvb2ssIF90aGlzLmZvcm0pKTsKCiAgICAgICAgICBfdGhpc1tVUERBVEVfQ1VSUkVOVF0obnVsbCk7CgogICAgICAgICAgX3RoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiAnUmVhZGluZyBSZWNvcmRlcicsCiAgICAgICAgICAgIG1lc3NhZ2U6IF90aGlzLiRjcmVhdGVFbGVtZW50KCdwJywgewogICAgICAgICAgICAgIHN0eWxlOiAnY29sb3I6ICMwMDknCiAgICAgICAgICAgIH0sICdTdWNjZXNzIScpLAogICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXMuZm9ybS5yZWFkID0gbmV3IERhdGUoKTsKICAgICAgICAgIF90aGlzLmZvcm0ubWVtbyA9ICcnOwoKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["BookForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,OAAA,QAAA,MAAA,2BAAA;AACA,SAAA,cAAA,EAAA,WAAA,QAAA,wBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA;AACA,QAAA,IAAA,EAAA,IAAA,IAAA,EADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAFA;AAMA,MAAA,KAAA,EAAA;AACA,QAAA,IAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,aAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA;AADA;AANA,KAAA;AAYA,GAlBA;AAmBA,EAAA,QAAA,EAAA,UAAA,CAAA,CAAA,SAAA,EAAA,aAAA,CAAA,CAnBA;AAoBA,EAAA,OApBA,qBAoBA;AACA,QAAA,CAAA,KAAA,OAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;;AACA,SAAA,IAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,KAAA,OAAA,CAAA;AACA,GAzBA;AA0BA,EAAA,OA1BA,qBA0BA;AACA,QAAA,CAAA,GAAA,KAAA,WAAA,CAAA,KAAA,IAAA,CAAA,EAAA,CAAA;;AACA,QAAA,CAAA,EAAA;AACA,WAAA,IAAA,CAAA,IAAA,GAAA,CAAA,CAAA,IAAA;AACA,WAAA,IAAA,CAAA,IAAA,GAAA,CAAA,CAAA,IAAA;AACA;AACA,GAhCA;AAiCA,EAAA,OAAA,oBACA,UAAA,CAAA,CAAA,WAAA,EAAA,cAAA,CAAA,CADA;AAEA,IAAA,QAFA,sBAEA;AAAA;;AACA,WAAA,KAAA,CAAA,MAAA,EAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,WAAA,CAAA,CACA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,KAAA,CAAA,IAAA,EAAA,KAAA,CAAA,IAAA,CADA;;AAGA,UAAA,KAAA,CAAA,cAAA,CAAA,CAAA,IAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA;AACA,YAAA,KAAA,EAAA,kBADA;AAEA,YAAA,OAAA,EAAA,KAAA,CAAA,cAAA,CAAA,GAAA,EAAA;AAAA,cAAA,KAAA,EAAA;AAAA,aAAA,EACA,UADA,CAFA;AAIA,YAAA,QAAA,EAAA;AAJA,WAAA;;AAMA,UAAA,KAAA,CAAA,IAAA,CAAA,IAAA,GAAA,IAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,IAAA,CAAA,IAAA,GAAA,EAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;AACA,OAhBA;AAiBA;AApBA;AAjCA,CAAA","sourcesContent":["<template>\n <div id=\"form\">\n  <BookInfo :book=\"book\"></BookInfo>\n  <hr />\n  <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"120px\" >\n   <el-form-item label=\"読了日\">\n    <el-date-picker type=\"date\" v-model=\"form.read\"></el-date-picker>\n   </el-form-item>\n   <el-form-item label=\"感想\" prop=\"memo\">\n    <el-input type=\"textarea\" size=\"large\" v-model=\"form.memo\"></el-input>\n   </el-form-item>\n   <el-form-item>\n    <el-button type=\"primary\" @click=\"onsubmit\">Register</el-button>\n   </el-form-item>\n  </el-form>\n </div>\n</template>\n\n<script>\nimport {mapGetters, mapActions } from 'vuex'\nimport BookInfo from '@/components/BookInfo.vue'\nimport { UPDATE_CURRENT, UPDATE_BOOK } from '@/store/mutation-types'\n\nexport default {\n name: 'book-form',\n components: {\n  BookInfo\n },\n data() {\n  return {\n   book: {},\n   form: {\n    read: new Date(),\n    memo: ''\n   },\n   rules: {\n    memo: [\n     { required: true, message: 'Input memo.', trigger: 'blur' }\n    ]\n   }\n  }\n },\n computed: mapGetters( [ 'current', 'getBookById' ]),\n created() {\n  if (!this.current) {\n   this.$router.push('/')\n  }\n  this.book = Object.assign({}, this.current)\n },\n mounted() {\n  let b = this.getBookById(this.book.id)\n  if (b) {\n   this.form.read = b.read\n   this.form.memo = b.memo\n  }\n },\n methods: {\n  ...mapActions([UPDATE_BOOK, UPDATE_CURRENT]),\n  onsubmit() {\n   this.$refs['form'].validate((valid) => {\n    if (valid) {\n     this[UPDATE_BOOK](\n      Object.assign({}, this.book, this.form)\n     )\n     this[UPDATE_CURRENT](null)\n     this.$notify({\n      title: 'Reading Recorder',\n      message: this.$createElement('p', {style: 'color: #009'},\n       'Success!'),\n       duration: 2000\n     })\n     this.form.read = new Date()\n     this.form.memo = ''\n     this.$router.push('/')\n    }\n   })\n  }\n }\n\n}\n</script>\n\n<style scoped>\n#form {\n margin-top: 15px;\n}\n</style>\n"],"sourceRoot":"src/components"}]}